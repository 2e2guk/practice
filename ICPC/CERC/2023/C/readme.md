link : https://www.acmicpc.net/problem/30947

사용 알고리즘 : Dinic, 최대유량 최소 컷 정리

solve : 문제의 목적은, 케이크를 판매했을 떄 최대 이익을 구하는 문제이다. 

그렇다면, 우리는 "케이크를 만들 때 발생하는 손실" 을 최소하하는 방향으로 문제를 해결할 수 있다. 그러기 위해서, flow network를 구성한다. 구성된 flow network의 가중치는

손실금이 되고, 여기서의 최대 유량은, 결국 "케이크 판매로 발생시키는 최소 손실" 이 된다.

그럼, 우리는 총 가능한 이익에서, 이 "최소 손실" 을 빼 주면 최댓값이 될 것이라는 사실은 어렵지 않게 유추할 수 있게 된다. 

여기서, 내가 간과한 중요한 사실이 있다. 

**네트워크의 간선의 가중치가 음수가 되는 경우**

인데, 이 경우는, cost > cakeprice[i] 인 경우, 즉 케이크를 만드는 비용이, 케이크를 판매하는 비용보다 큰 경우이다. 만드는게 손해인 경우.

그럼, 이 경우까지, g.addEdge(s, i + 1, cakeprice[i] - cost); 를 통해서 플로우 네트워크에 포함시킨다면, 정확한 결과를 얻을 수가 없다. 

애초에 flow network에 음수 가중치를 갖는 경우(역간선 말고)도 고려하지 않거니와, 이걸 포함시키는 것 자체가 정확한 결과를 구할 수 없도록 만드는 것이다.

결국 코드에 if(cost > cakeprice[i]) continue; 이 부분을 추가하며, 문제를 해결하게 되었다.









